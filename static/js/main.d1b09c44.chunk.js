(this.webpackJsonptraining=this.webpackJsonptraining||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return f}));var n=a(43),r=a(0),s=a.n(r),o=a(47),c=a.n(o),i=a(88),u=function(e){var t=e.meta,a=t.touched,n=t.error,r=e.children,o=a&&n;return s.a.createElement("div",{className:c.a.formControl},r,o&&s.a.createElement("span",null,n))},l=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return s.a.createElement(u,e,s.a.createElement("textarea",Object.assign({},t,a)))},m=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return s.a.createElement(u,e,s.a.createElement("input",Object.assign({},t,a)))},d=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return s.a.createElement(u,e,s.a.createElement("label",{className:c.a.container},"Remember cat",s.a.createElement("input",Object.assign({},t,a)),s.a.createElement("span",{className:c.a.checkmark})))},f=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,Object.assign({placeholder:e,validate:a,name:t,component:n},r)),o&&s.a.createElement("div",null,o))}},11:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i}));var n=a(131),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d664b651-1d4d-4dfc-8e20-6d385698ea30"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},o={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},c={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},i={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},126:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a(70),r=a(9),s={dialogs:[{id:1,name:"Artem"},{id:2,name:"Vika"},{id:3,name:"Sveta"},{id:4,name:"Yana"},{id:5,name:"Olga"},{id:6,name:"Angelina"}],messages:[{id:1,message:"What the fck, maan?"},{id:2,message:"Yo"},{id:3,message:"Hello?! What a u doing"},{id:4,message:"What a u doing"},{id:5,message:"Not me"}]},o=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a=t.newMessageBody;return Object(r.a)({},e,{messages:[].concat(Object(n.a)(e.messages),[{id:6,message:a}])});default:return e}}},132:function(e,t,a){e.exports=a.p+"static/media/cat_preloader.dacbd40b.svg"},133:function(e,t,a){e.exports={justify:"preloader_justify__2BNPG"}},138:function(e,t,a){e.exports=a.p+"static/media/296702.467f3b92.png"},141:function(e,t,a){e.exports=a.p+"static/media/cat_eat.6d93d49e.png"},143:function(e,t,a){e.exports=a.p+"static/media/Gear.bcb55d0d.svg"},144:function(e,t,a){e.exports={notFoundBlock:"NotFound_notFoundBlock__TgsGK"}},172:function(e,t,a){e.exports=a(299)},177:function(e,t,a){},178:function(e,t,a){},18:function(e,t,a){e.exports={nav:"navbar_nav__3bEjC",item:"navbar_item__1QyXw",active:"navbar_active__26D2J"}},21:function(e,t,a){e.exports={userPhoto:"users_userPhoto__1-Wyu",usersList:"users_usersList__OhVv-",user:"users_user__3bMS3",userInfo:"users_userInfo__3Qgxc",userInfoBlock:"users_userInfoBlock__3DUVq",followButtons:"users_followButtons__2FAAA",userNameAndStatus:"users_userNameAndStatus__3qIee",followButton:"users_followButton__3vLAa",unfollowButton:"users_unfollowButton__aDjwR",socialNetworks:"users_socialNetworks__2t6FE",paginatorContainer:"users_paginatorContainer__3Iniz"}},22:function(e,t,a){e.exports={settingsContainer:"Settings_settingsContainer__yq3Li",formContainer:"Settings_formContainer__1qetS",settingsField:"Settings_settingsField__1ovuN",settingsContactsField:"Settings_settingsContactsField__157XL",settingsTitle:"Settings_settingsTitle__zODeC",saveButton:"Settings_saveButton__6KdJg",saveStatus:"Settings_saveStatus__1dxRX"}},26:function(e,t,a){"use strict";var n=a(132),r=a.n(n),s=a(0),o=a.n(s),c=a(133),i=a.n(c);t.a=function(e){return o.a.createElement("div",{className:i.a.justify},o.a.createElement("img",{src:r.a,alt:"preloader"}))}},29:function(e,t,a){e.exports={paginator:"Paginator_paginator__3eqsJ",numbersBlock:"Paginator_numbersBlock__tof0U",pageNumber:"Paginator_pageNumber__3136A",selectedPage:"Paginator_selectedPage__m0XHW",nextButton:"Paginator_nextButton__1paZ9",prevButton:"Paginator_prevButton__24Bzt",prevNextButton:"Paginator_prevNextButton__1QlDg"}},299:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(63),o=a.n(s),c=(a(177),a(178),a(18)),i=a.n(c),u=a(13),l=function(){return r.a.createElement("nav",{className:i.a.nav},r.a.createElement("div",{className:i.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-paw"})),r.a.createElement(u.b,{to:"/profile",activeClassName:i.a.active},"Profile")),r.a.createElement("div",{className:i.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-envelope"})),r.a.createElement(u.b,{to:"/dialogs",activeClassName:i.a.active},"Messages")),r.a.createElement("div",{className:i.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cat"})),r.a.createElement(u.b,{to:"/users",activeClassName:i.a.active},"Users")),r.a.createElement("div",{className:i.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-newspaper"})),r.a.createElement(u.b,{to:"/news",activeClassName:i.a.active},"News")),r.a.createElement("div",{className:i.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-guitar"})),r.a.createElement(u.b,{to:"/music",activeClassName:i.a.active},"Music")),r.a.createElement("div",{className:i.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cog"})),r.a.createElement(u.b,{to:"/settings",activeClassName:i.a.active},"Settings")))},m=a(28),d=a(12),f=a(6),g=a.n(f),p=a(9),E=a(11),v=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(p.a)({},e,{},n):e}))},_={users:[],pageSize:16,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:null},h=function(e){return{type:"FOLLOW",userId:e}},b=function(e){return{type:"UNFOLLOW",userId:e}},S=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},w=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},O=function(e){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",userId:e}},N=function(e,t,a,n){return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(O(t)),r.next=3,g.a.awrap(a(t));case 3:0===r.sent.data.resultCode&&e(n(t)),e(O(null));case 6:case"end":return r.stop()}}))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(p.a)({},e,{users:v(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(p.a)({},e,{users:v(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(p.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(p.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(p.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(p.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(p.a)({},e,{followingInProgress:t.userId});default:return e}},P=a(43),j=a(95),y=a(29),I=a.n(y),A=a(91),k=a.n(A),x=function(e){for(var t=e.totalItemsCount,a=e.pageSize,s=e.currentPage,o=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/a),l=[],m=1;m<=u;m++)l.push(m);var d=Math.ceil(u/i),f=Object(n.useState)(1),g=Object(j.a)(f,2),p=g[0],E=g[1],v=(p-1)*i+1,_=p*i,h=10*p+1,b=h-20;return Object(n.useEffect)((function(){E(Math.ceil(s/10))}),[s]),r.a.createElement("div",{className:I.a.paginator},r.a.createElement("div",{className:I.a.prevNextButton},p>1&&r.a.createElement("input",{className:I.a.prevButton,type:"image",src:k.a,alt:"\u041e\u041a",onClick:function(){E(p-1),o(b)}})),r.a.createElement("div",{className:I.a.numbersBlock},l.filter((function(e){return e>=v&&e<=_})).map((function(e){return r.a.createElement("div",{className:s===e?I.a.selectedPage:I.a.pageNumber,key:e,onClick:function(t){o(e)}},e)}))),r.a.createElement("div",{className:I.a.prevNextButton},d>p&&r.a.createElement("input",{className:I.a.nextButton,type:"image",src:k.a,alt:"\u041e\u041a",onClick:function(){E(p+1),o(h)}})))},U=a(21),T=a.n(U),F=a(94),L=a.n(F),B=function(e){var t=e.user,a=e.followingInProgress,n=e.unfollow,s=e.follow,o=e.auth;return r.a.createElement("div",{className:T.a.user},r.a.createElement("div",null,r.a.createElement(u.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.large?t.photos.large:L.a,className:T.a.userPhoto,alt:"ava"}))),r.a.createElement("div",{className:T.a.userInfo},r.a.createElement("div",{className:T.a.userInfoBlock},r.a.createElement("div",{className:T.a.userNameAndStatus},r.a.createElement("div",null,r.a.createElement(u.b,{to:"/profile/"+t.id},t.name)),r.a.createElement("div",null,t.status)),r.a.createElement("div",{className:T.a.socialNetworks},r.a.createElement("i",{className:"fab fa-facebook fa-lg"}),r.a.createElement("i",{className:"fab fa-instagram fa-lg"}),r.a.createElement("i",{className:"fab fa-telegram fa-lg"}))),o&&r.a.createElement("div",{className:T.a.followButtons},t.followed?r.a.createElement("button",{disabled:a===t.id,onClick:function(){n(t.id)},className:T.a.unfollowButton},"Unfollow"):r.a.createElement("button",{disabled:a===t.id,onClick:function(){s(t.id)},className:T.a.followButton},"Follow"))))},R=function(e){var t=e.currentPage,a=e.totalUsersCount,n=e.pageSize,s=e.onPageChanged,o=e.users,c=Object(P.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:T.a.usersList},o.map((function(e){return r.a.createElement(B,{user:e,followingInProgress:c.followingInProgress,key:e.id,unfollow:c.unfollow,follow:c.follow,auth:c.auth})}))),r.a.createElement("div",{className:T.a.paginatorContainer},r.a.createElement(x,{currentPage:t,onPageChanged:s,totalItemsCount:a,pageSize:n})))},z=a(26),G=a(7),M=a(134),D=Object(M.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),H=function(e){return e.usersPage.pageSize},W=function(e){return e.usersPage.totalUsersCount},V=function(e){return e.usersPage.currentPage},J=function(e){return e.usersPage.isFetching},Z=function(e){return e.usersPage.followingInProgress},q=function(e){return e.auth.isAuth},X=a(54),Y=Object(G.d)(Object(d.b)((function(e){return{users:D(e),pageSize:H(e),totalUsersCount:W(e),currentPage:V(e),isFetching:J(e),followingInProgress:Z(e),auth:q(e)}}),{follow:function(e){return function(t){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:N(t,e,E.d.follow.bind(E.d),h);case 1:case"end":return a.stop()}}))}},unfollow:function(e){return function(t){return g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:N(t,e,E.d.unfollow.bind(E.d),b);case 1:case"end":return a.stop()}}))}},setCurrentPage:S,toggleFollowingProgress:O,getUsers:function(e,t){return function(a){var n;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a(w(!0)),a(S(e)),r.next=4,g.a.awrap(E.d.getUsers(e,t));case 4:n=r.sent,a(w(!1)),a({type:"SET_USERS",users:n.items}),a({type:"SET_TOTAL_USERS_COUNT",count:n.totalCount});case 8:case"end":return r.stop()}}))}}}),X.a)((function(e){var t=e.currentPage,a=e.pageSize,s=e.getUsers,o=e.isFetching,c=e.totalUsersCount,i=e.users,u=e.follow,l=e.unfollow,m=e.followingInProgress,d=e.auth;Object(n.useEffect)((function(){s(t,a)}),[s,t,a]);return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(z.a,null),r.a.createElement(R,{totalUsersCount:c,pageSize:a,currentPage:t,onPageChanged:function(e){s(e,a)},users:i,follow:u,unfollow:l,followingInProgress:m,auth:d}))})),K=a(68),Q=a(38),$=a.n(Q),ee=a(138),te=a.n(ee),ae=a(139),ne=a.n(ae),re=function(e){return r.a.createElement("div",{className:ne()($.a.header,Object(K.a)({},$.a.loginHeader,!e.isAuth))},r.a.createElement("div",{className:$.a.logoBlock},r.a.createElement(u.b,{to:"/profile"},r.a.createElement("img",{src:te.a,alt:"logo",className:$.a.logo}))),e.isAuth&&r.a.createElement("div",{className:$.a.userInfo},e.ava&&r.a.createElement("div",null,e.login,r.a.createElement("img",{src:e.ava,alt:"img",className:$.a.ava})),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.logout},r.a.createElement("i",{className:"fas fa-door-open fa-lg"})))))},se=a(30),oe="social-network/auth/SET_USER_DATA",ce={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,small:null},ie=function(e,t,a,n,r){return{type:oe,payload:{userId:e,email:t,login:a,isAuth:n,small:r}}},ue=function(e){return{type:"social-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},le=function(){return function(e){var t,a,n,r,s;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,g.a.awrap(E.a.me());case 2:0===(t=o.sent).data.resultCode&&(a=t.data.data,n=a.id,r=a.email,s=a.login,e(ie(n,r,s,!0)));case 4:case"end":return o.stop()}}))}},me=function(){return function(e){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(E.c.getCaptchaUrl());case 2:t=n.sent,a=t.data.url,e(ue(a));case 5:case"end":return n.stop()}}))}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:case"social-network/auth/GET_CAPTCHA_URL_SUCCESS":case"social-network/auth/GET_AUTHORIZED_USER_AVA":return Object(p.a)({},e,{},t.payload);default:return e}},fe=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,ava:e.auth.small,userId:e.auth.userId}}),{logout:function(){return function(e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.awrap(E.a.logout());case 2:0===t.sent.data.resultCode&&e(ie(null,null,null,!1,null));case 4:case"end":return t.stop()}}))}},getAuthorizedUserAva:function(e){return function(t){var a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(E.b.getProfile(e));case 2:a=n.sent,t({type:"social-network/auth/GET_AUTHORIZED_USER_AVA",payload:a.data.photos});case 4:case"end":return n.stop()}}))}}})((function(e){return Object(n.useEffect)((function(){e.getAuthorizedUserAva(e.userId)}),[e]),r.a.createElement(re,e)})),ge=a(127),pe=a(10),Ee=a(65),ve=a(39),_e=a.n(ve),he=a(141),be=a.n(he),Se=Object(ge.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error,n=e.captchaUrl;return r.a.createElement("form",{onSubmit:t},Object(pe.d)("Email","email",[Ee.b],pe.b),Object(pe.d)("Password","password",[Ee.b],pe.b,{type:"password"}),n&&r.a.createElement("img",{src:n,alt:"captcha"}),n&&Object(pe.d)("Symbols from image","captcha",[Ee.b],pe.b,{}),a&&r.a.createElement("div",{className:_e.a.formSummaryError},a),r.a.createElement("div",{className:_e.a.buttonsField},r.a.createElement("div",{className:_e.a.checkboxField},Object(pe.d)(null,"rememberMe",null,pe.a,{type:"checkbox"})),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))})),we=Object(d.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,a,n){return function(r){var s,o;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g.a.awrap(E.a.login(e,t,a,n));case 2:0===(s=c.sent).data.resultCode?r(le()):(10===s.data.resultCode&&r(me()),o=s.data.messages.length>0?s.data.messages[0]:"Some error",r(Object(se.b)("login",{_error:o})));case 4:case"end":return c.stop()}}))}}})((function(e){return e.isAuth?r.a.createElement(m.a,{to:"/profile"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:_e.a.loginForm},r.a.createElement("div",{className:_e.a.imgLogin},r.a.createElement("img",{src:be.a,alt:"cat"})),r.a.createElement(Se,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})),r.a.createElement("div",{className:_e.a.author},r.a.createElement("div",null,"by bamboleylo@inspector-code"),r.a.createElement("div",null,"2020")))})),Oe={initialized:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(p.a)({},e,{initialized:!0});default:return e}},Ce=a(42),Pe=a(126),je={friends:[{id:1,name:"Pasha"},{id:2,name:"Serega"},{id:3,name:"Kirill"}]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;arguments.length>1&&arguments[1];return e},Ie=a(142),Ae=a(128),ke=Object(G.c)({profilePage:Ce.b,dialogsPage:Pe.a,sidebar:ye,usersPage:C,auth:de,form:Ae.a,app:Ne}),xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,Ue=Object(G.e)(ke,xe(Object(G.a)(Ie.a)));window.__store__=Ue;var Te=Ue,Fe=function(e){return function(t){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(z.a,null)},r.a.createElement(e,t))}},Le=a(143),Be=a.n(Le),Re=a(144),ze=a.n(Re),Ge=function(){return r.a.createElement("div",{className:ze.a.notFoundBlock},r.a.createElement("img",{src:Be.a,alt:"preloader"}),r.a.createElement("div",null,"404 Page not found... or not created"))},Me=a(22),De=a.n(Me),He=a(47),We=a.n(He),Ve=Object(ge.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error,s=e.saveStatus;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:De.a.settingsTitle},"Main information"),r.a.createElement("div",{className:De.a.formContainer},r.a.createElement("div",{className:De.a.settingsField},r.a.createElement("div",null,"Name:"),Object(pe.d)("Full name","fullName",[],pe.b)),r.a.createElement("div",{className:De.a.settingsField},r.a.createElement("div",null,"About me:"),Object(pe.d)("About me","aboutMe",[],pe.c)),r.a.createElement("div",{className:De.a.settingsField},r.a.createElement("div",null,"Looking for a job:"),Object(pe.d)("","lookingForAJob",[],pe.b,{type:"checkbox"})),r.a.createElement("div",{className:De.a.settingsField},r.a.createElement("div",null,"My professional skills:"),Object(pe.d)("My professional skills","lookingForAJobDescription",[],pe.c)),Object.keys(a.contacts).map((function(e){return r.a.createElement("div",{key:e,className:De.a.settingsContactsField},r.a.createElement("div",null,e,":"),Object(pe.d)(e,"contacts."+e,[],pe.b))})),r.a.createElement("div",null,s&&r.a.createElement("div",{className:De.a.saveStatus},"Change saved")),r.a.createElement("div",{className:De.a.saveButton},r.a.createElement("button",null,"Save")),n&&r.a.createElement("div",{className:We.a.formSummaryError},n)))})),Je=function(e){var t=e.profile,a=e.saveProfile,n=e.userId,s=e.saveStatus;return r.a.createElement("div",{className:De.a.settingsContainer},t.userId===n?r.a.createElement(Ve,{initialValues:t,profile:t,onSubmit:function(e){a(e)},saveStatus:s}):r.a.createElement(z.a,null))},Ze=Object(G.d)(Object(d.b)((function(e){return{profile:e.profilePage.profile,userId:e.auth.userId,saveStatus:e.profilePage.saveStatus}}),{getUserProfile:Ce.d,savePhoto:Ce.e,saveProfile:Ce.f}),X.a)((function(e){var t=e.profile,a=e.saveProfile,s=e.getUserProfile,o=e.userId,c=e.saveStatus;return Object(n.useEffect)((function(){t&&t.userId===o||s(o)}),[t,s,o]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(Je,{profile:t,saveProfile:a,userId:o,saveStatus:c}):r.a.createElement(z.a,null))})),qe=r.a.lazy((function(){return a.e(4).then(a.bind(null,305))})),Xe=r.a.lazy((function(){return a.e(3).then(a.bind(null,304))})),Ye=Object(G.d)(m.g,Object(d.b)((function(e){return{initialized:e.app.initialized,auth:e.auth.isAuth}}),{initializeApp:function(){return function(e){var t=e(le());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))((function(e){return Object(n.useEffect)((function(){e.initialized||e.initializeApp()})),r.a.createElement(r.a.Fragment,null,!e.initialized&&r.a.createElement(z.a,null),r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(fe,null))),r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:e.auth?"app-wrapper":null},e.auth&&r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar"},r.a.createElement(l,null))),r.a.createElement("main",null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(){return r.a.createElement(m.a,{to:"/profile"})}}),r.a.createElement(m.b,{path:"/dialogs",render:Fe(qe)}),r.a.createElement(m.b,{path:"/profile/:userId?",render:Fe(Xe)}),r.a.createElement(m.b,{path:"/users",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(m.b,{path:"/settings",render:function(){return r.a.createElement(Ze,null)}}),r.a.createElement(m.b,{path:"/login",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(m.b,{path:"*",render:function(){return r.a.createElement(Ge,null)}})))))))})),Ke=function(e){return r.a.createElement(u.a,null,r.a.createElement(d.a,{store:Te},r.a.createElement(Ye,null)))};o.a.render(r.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},38:function(e,t,a){e.exports={header:"header_header__3Wgol",loginHeader:"header_loginHeader__1Jhdk",logo:"header_logo__2xQVY",ava:"header_ava__iokZB",userInfo:"header_userInfo__3nY3p",loginIcon:"header_loginIcon__26Iju",logoBlock:"header_logoBlock__23YwP"}},39:function(e,t,a){e.exports={formSummaryError:"Login_formSummaryError__1SCKd",loginForm:"Login_loginForm__3O5bW",checkboxField:"Login_checkboxField__2em60",buttonsField:"Login_buttonsField__19jMH",imgLogin:"Login_imgLogin__It_Md",author:"Login_author__1-HkZ"}},42:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"g",(function(){return p})),a.d(t,"e",(function(){return E})),a.d(t,"f",(function(){return v}));var n=a(6),r=a.n(n),s=a(70),o=a(9),c=a(11),i=a(30),u={posts:[{id:1,message:"HAHAHA",likesCount:12},{id:2,message:"Next time",likesCount:3},{id:3,message:"How a u?",likesCount:8},{id:4,message:"Maaan, this so funny",likesCount:1}],profile:null,status:"",saveStatus:!1},l=function(e){return{type:"ADD-POST",post:e}},m=function(e){return{type:"SET_STATUS",status:e}},d=function(e){return{type:"SAVE_STATUS",status:e}},f=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.getProfile(e));case 2:a=n.sent,t({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return n.stop()}}))}},g=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.getStatus(e));case 2:a=n.sent,t(m(a.data));case 4:case"end":return n.stop()}}))}},p=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(c.b.updateStatus(e));case 3:0===a.sent.data.resultCode&&t(m(e)),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),null,null,[[0,7]])}},E=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.savePhoto(e));case 2:0===(a=n.sent).data.resultCode&&t({type:"SAVE_PHOTO_SUCCESS",photos:a.data.data.photos});case 4:case"end":return n.stop()}}))}},v=function(e){return function(t,a){var n,s;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=a().auth.userId,o.next=3,r.a.awrap(c.b.saveProfile(e));case 3:if(0!==(s=o.sent).data.resultCode){o.next=10;break}t(f(n)),t(d(!0)),setTimeout((function(){return t(d(!1))}),1e4),o.next=12;break;case 10:return t(Object(i.b)("edit-profile",{_error:s.data.messages[0]})),o.abrupt("return",Promise.reject(s.data.messages[0]));case 12:case"end":return o.stop()}}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(o.a)({},e,{posts:[].concat(Object(s.a)(e.posts),[{id:5,message:t.post,likesCount:0}])});case"SET_STATUS":return Object(o.a)({},e,{status:t.status});case"SET_USER_PROFILE":return Object(o.a)({},e,{profile:t.profile});case"DELETE_POST":return Object(o.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(o.a)({},e,{profile:Object(o.a)({},e.profile,{photos:t.photos})});case"SAVE_STATUS":return Object(o.a)({},e,{saveStatus:t.status});default:return e}}},47:function(e,t,a){e.exports={formControl:"FormsControls_formControl__3axP7",container:"FormsControls_container__2VZhW",checkmark:"FormsControls_checkmark__5vhmM"}},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(135),r=a(136),s=a(145),o=a(137),c=a(146),i=a(0),u=a.n(i),l=a(28),m=a(12),d=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(c.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(l.a,{to:"/login"})}}]),a}(u.a.Component);return Object(m.b)(d)(t)}},65:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},91:function(e,t,a){e.exports=a.p+"static/media/navigate-before.ce1003c3.svg"},94:function(e,t,a){e.exports=a.p+"static/media/user_cat2.dda3b706.png"}},[[172,1,2]]]);
//# sourceMappingURL=main.d1b09c44.chunk.js.map