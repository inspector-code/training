(this.webpackJsonptraining=this.webpackJsonptraining||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return f}));var n=a(41),r=a(0),s=a.n(r),o=a(45),c=a.n(o),i=a(93),u=function(e){var t=e.meta,a=t.touched,n=t.error,r=e.children,o=a&&n;return s.a.createElement("div",{className:c.a.formControl},r,o&&s.a.createElement("span",null,n))},l=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return s.a.createElement(u,e,s.a.createElement("textarea",Object.assign({},t,a)))},m=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return s.a.createElement(u,e,s.a.createElement("input",Object.assign({},t,a)))},d=function(e){var t=e.input,a=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return s.a.createElement(u,e,s.a.createElement("label",{className:c.a.container},"Remember cat",s.a.createElement("input",Object.assign({},t,a)),s.a.createElement("span",{className:c.a.checkmark})))},f=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,Object.assign({placeholder:e,validate:a,name:t,component:n},r)),o&&s.a.createElement("div",null,o))}},11:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i}));var n=a(136),r=n.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d664b651-1d4d-4dfc-8e20-6d385698ea30"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},o={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},c={me:function(){return r.get("auth/me")},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")}},i={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},131:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a(73),r=a(9),s={dialogs:[{id:1,name:"Artem"},{id:2,name:"Vika"},{id:3,name:"Sveta"},{id:4,name:"Yana"},{id:5,name:"Olga"},{id:6,name:"Angelina"}],messages:[{id:1,message:"What the fck, maan?"},{id:2,message:"Yo"},{id:3,message:"Hello?! What a u doing"},{id:4,message:"What a u doing"},{id:5,message:"Not me"}]},o=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var a=t.newMessageBody;return Object(r.a)({},e,{messages:[].concat(Object(n.a)(e.messages),[{id:6,message:a}])});default:return e}}},137:function(e,t,a){e.exports=a.p+"static/media/cat_preloader.dacbd40b.svg"},138:function(e,t,a){e.exports={justify:"preloader_justify__2BNPG"}},140:function(e,t,a){e.exports=a.p+"static/media/296702.467f3b92.png"},143:function(e,t,a){e.exports=a.p+"static/media/cat_eat.6d93d49e.png"},145:function(e,t,a){e.exports=a.p+"static/media/Gear.bcb55d0d.svg"},146:function(e,t,a){e.exports={notFoundBlock:"NotFound_notFoundBlock__TgsGK"}},172:function(e,t,a){e.exports=a(299)},177:function(e,t,a){},178:function(e,t,a){},18:function(e,t,a){e.exports={nav:"navbar_nav__3bEjC",item:"navbar_item__1QyXw",active:"navbar_active__26D2J"}},21:function(e,t,a){e.exports={userPhoto:"users_userPhoto__1-Wyu",usersList:"users_usersList__OhVv-",user:"users_user__3bMS3",userInfo:"users_userInfo__3Qgxc",userInfoBlock:"users_userInfoBlock__3DUVq",followButtons:"users_followButtons__2FAAA",userNameAndStatus:"users_userNameAndStatus__3qIee",followButton:"users_followButton__3vLAa",unfollowButton:"users_unfollowButton__aDjwR",socialNetworks:"users_socialNetworks__2t6FE",paginatorContainer:"users_paginatorContainer__3Iniz"}},22:function(e,t,a){e.exports={settingsContainer:"Settings_settingsContainer__yq3Li",formContainer:"Settings_formContainer__1qetS",settingsField:"Settings_settingsField__1ovuN",settingsContactsField:"Settings_settingsContactsField__157XL",settingsTitle:"Settings_settingsTitle__zODeC",saveButton:"Settings_saveButton__6KdJg",saveStatus:"Settings_saveStatus__1dxRX"}},26:function(e,t,a){"use strict";var n=a(137),r=a.n(n),s=a(0),o=a.n(s),c=a(138),i=a.n(c);t.a=function(e){return o.a.createElement("div",{className:i.a.justify},o.a.createElement("img",{src:r.a,alt:"preloader"}))}},29:function(e,t,a){e.exports={paginator:"Paginator_paginator__3eqsJ",numbersBlock:"Paginator_numbersBlock__tof0U",pageNumber:"Paginator_pageNumber__3136A",selectedPage:"Paginator_selectedPage__m0XHW",nextButton:"Paginator_nextButton__1paZ9",prevButton:"Paginator_prevButton__24Bzt",prevNextButton:"Paginator_prevNextButton__1QlDg"}},299:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(63),o=a.n(s),c=(a(177),a(68)),i=a(69),u=a(74),l=a(70),m=a(75),d=(a(178),a(18)),f=a.n(d),g=a(15),p=function(){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",{className:f.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-paw"})),r.a.createElement(g.b,{to:"/profile",activeClassName:f.a.active},"Profile")),r.a.createElement("div",{className:f.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-envelope"})),r.a.createElement(g.b,{to:"/dialogs",activeClassName:f.a.active},"Messages")),r.a.createElement("div",{className:f.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cat"})),r.a.createElement(g.b,{to:"/users",activeClassName:f.a.active},"Users")),r.a.createElement("div",{className:f.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-newspaper"})),r.a.createElement(g.b,{to:"/news",activeClassName:f.a.active},"News")),r.a.createElement("div",{className:f.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-guitar"})),r.a.createElement(g.b,{to:"/music",activeClassName:f.a.active},"Music")),r.a.createElement("div",{className:f.a.item},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cog"})),r.a.createElement(g.b,{to:"/settings",activeClassName:f.a.active},"Settings")))},E=a(28),v=a(12),h=a(6),_=a.n(h),b=a(9),S=a(11),w=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(b.a)({},e,{},n):e}))},O={users:[],pageSize:16,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:null},N=function(e){return{type:"FOLLOW",userId:e}},C=function(e){return{type:"UNFOLLOW",userId:e}},P=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},j=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},y=function(e){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",userId:e}},A=function(e,t,a,n){return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e(y(t)),r.next=3,_.a.awrap(a(t));case 3:0===r.sent.data.resultCode&&e(n(t)),e(y(null));case 6:case"end":return r.stop()}}))},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(b.a)({},e,{users:w(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(b.a)({},e,{users:w(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(b.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(b.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(b.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(b.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(b.a)({},e,{followingInProgress:t.userId});default:return e}},k=a(41),x=a(100),U=a(29),T=a.n(U),F=a(96),L=a.n(F),B=function(e){for(var t=e.totalItemsCount,a=e.pageSize,s=e.currentPage,o=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/a),l=[],m=1;m<=u;m++)l.push(m);var d=Math.ceil(u/i),f=Object(n.useState)(1),g=Object(x.a)(f,2),p=g[0],E=g[1],v=(p-1)*i+1,h=p*i,_=10*p+1,b=_-20;return Object(n.useEffect)((function(){E(Math.ceil(s/10))}),[s]),r.a.createElement("div",{className:T.a.paginator},r.a.createElement("div",{className:T.a.prevNextButton},p>1&&r.a.createElement("input",{className:T.a.prevButton,type:"image",src:L.a,alt:"\u041e\u041a",onClick:function(){E(p-1),o(b)}})),r.a.createElement("div",{className:T.a.numbersBlock},l.filter((function(e){return e>=v&&e<=h})).map((function(e){return r.a.createElement("div",{className:s===e?T.a.selectedPage:T.a.pageNumber,key:e,onClick:function(t){o(e)}},e)}))),r.a.createElement("div",{className:T.a.prevNextButton},d>p&&r.a.createElement("input",{className:T.a.nextButton,type:"image",src:L.a,alt:"\u041e\u041a",onClick:function(){E(p+1),o(_)}})))},R=a(21),G=a.n(R),z=a(99),M=a.n(z),D=function(e){var t=e.user,a=e.followingInProgress,n=e.unfollow,s=e.follow,o=e.auth;return r.a.createElement("div",{className:G.a.user},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.large?t.photos.large:M.a,className:G.a.userPhoto,alt:"ava"}))),r.a.createElement("div",{className:G.a.userInfo},r.a.createElement("div",{className:G.a.userInfoBlock},r.a.createElement("div",{className:G.a.userNameAndStatus},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/profile/"+t.id},t.name)),r.a.createElement("div",null,t.status)),r.a.createElement("div",{className:G.a.socialNetworks},r.a.createElement("i",{className:"fab fa-facebook fa-lg"}),r.a.createElement("i",{className:"fab fa-instagram fa-lg"}),r.a.createElement("i",{className:"fab fa-telegram fa-lg"}))),o&&r.a.createElement("div",{className:G.a.followButtons},t.followed?r.a.createElement("button",{disabled:a===t.id,onClick:function(){n(t.id)},className:G.a.unfollowButton},"Unfollow"):r.a.createElement("button",{disabled:a===t.id,onClick:function(){s(t.id)},className:G.a.followButton},"Follow"))))},H=function(e){var t=e.currentPage,a=e.totalUsersCount,n=e.pageSize,s=e.onPageChanged,o=e.users,c=Object(k.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:G.a.usersList},o.map((function(e){return r.a.createElement(D,{user:e,followingInProgress:c.followingInProgress,key:e.id,unfollow:c.unfollow,follow:c.follow,auth:c.auth})}))),r.a.createElement("div",{className:G.a.paginatorContainer},r.a.createElement(B,{currentPage:t,onPageChanged:s,totalItemsCount:a,pageSize:n})))},W=a(26),V=a(7),J=a(139),Z=Object(J.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),q=function(e){return e.usersPage.pageSize},X=function(e){return e.usersPage.totalUsersCount},K=function(e){return e.usersPage.currentPage},Y=function(e){return e.usersPage.isFetching},Q=function(e){return e.usersPage.followingInProgress},$=function(e){return e.auth.isAuth},ee=a(54),te=Object(V.d)(Object(v.b)((function(e){return{users:Z(e),pageSize:q(e),totalUsersCount:X(e),currentPage:K(e),isFetching:Y(e),followingInProgress:Q(e),auth:$(e)}}),{follow:function(e){return function(t){return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:A(t,e,S.d.follow.bind(S.d),N);case 1:case"end":return a.stop()}}))}},unfollow:function(e){return function(t){return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:A(t,e,S.d.unfollow.bind(S.d),C);case 1:case"end":return a.stop()}}))}},setCurrentPage:P,toggleFollowingProgress:y,getUsers:function(e,t){return function(a){var n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a(j(!0)),a(P(e)),r.next=4,_.a.awrap(S.d.getUsers(e,t));case 4:n=r.sent,a(j(!1)),a({type:"SET_USERS",users:n.items}),a({type:"SET_TOTAL_USERS_COUNT",count:n.totalCount});case 8:case"end":return r.stop()}}))}}}),ee.a)((function(e){var t=e.currentPage,a=e.pageSize,s=e.getUsers,o=e.isFetching,c=e.totalUsersCount,i=e.users,u=e.follow,l=e.unfollow,m=e.followingInProgress,d=e.auth;Object(n.useEffect)((function(){s(t,a)}),[s,t,a]);return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(W.a,null),r.a.createElement(H,{totalUsersCount:c,pageSize:a,currentPage:t,onPageChanged:function(e){s(e,a)},users:i,follow:u,unfollow:l,followingInProgress:m,auth:d}))})),ae=a(71),ne=a(46),re=a.n(ne),se=a(140),oe=a.n(se),ce=a(141),ie=a.n(ce),ue=function(e){return r.a.createElement("div",{className:ie()(re.a.header,Object(ae.a)({},re.a.loginHeader,!e.isAuth))},r.a.createElement("img",{src:oe.a,alt:"logo",className:re.a.logo}),e.isAuth&&r.a.createElement("div",{className:re.a.userInfo},e.ava&&r.a.createElement("div",null,e.login,r.a.createElement("img",{src:e.ava,alt:"img",className:re.a.ava})),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.logout},r.a.createElement("i",{className:"fas fa-door-open fa-lg"})))))},le=a(30),me="social-network/auth/SET_USER_DATA",de={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null,small:null},fe=function(e,t,a,n,r){return{type:me,payload:{userId:e,email:t,login:a,isAuth:n,small:r}}},ge=function(e){return{type:"social-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},pe=function(){return function(e){var t,a,n,r,s;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_.a.awrap(S.a.me());case 2:0===(t=o.sent).data.resultCode&&(a=t.data.data,n=a.id,r=a.email,s=a.login,e(fe(n,r,s,!0)));case 4:case"end":return o.stop()}}))}},Ee=function(){return function(e){var t,a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(S.c.getCaptchaUrl());case 2:t=n.sent,a=t.data.url,e(ge(a));case 5:case"end":return n.stop()}}))}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:case"social-network/auth/GET_CAPTCHA_URL_SUCCESS":case"social-network/auth/GET_AUTHORIZED_USER_AVA":return Object(b.a)({},e,{},t.payload);default:return e}},he=Object(v.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,ava:e.auth.small,userId:e.auth.userId}}),{logout:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.awrap(S.a.logout());case 2:0===t.sent.data.resultCode&&e(fe(null,null,null,!1,null));case 4:case"end":return t.stop()}}))}},getAuthorizedUserAva:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_.a.awrap(S.b.getProfile(e));case 2:a=n.sent,t({type:"social-network/auth/GET_AUTHORIZED_USER_AVA",payload:a.data.photos});case 4:case"end":return n.stop()}}))}}})((function(e){return Object(n.useEffect)((function(){e.getAuthorizedUserAva(e.userId)}),[e]),r.a.createElement(ue,e)})),_e=a(132),be=a(10),Se=a(65),we=a(47),Oe=a.n(we),Ne=a(143),Ce=a.n(Ne),Pe=Object(_e.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.error,n=e.captchaUrl;return r.a.createElement("form",{onSubmit:t},Object(be.d)("Email","email",[Se.b],be.b),Object(be.d)("Password","password",[Se.b],be.b,{type:"password"}),n&&r.a.createElement("img",{src:n,alt:"captcha"}),n&&Object(be.d)("Symbols from image","captcha",[Se.b],be.b,{}),a&&r.a.createElement("div",{className:Oe.a.formSummaryError},a),r.a.createElement("div",{className:Oe.a.buttonsField},r.a.createElement("div",{className:Oe.a.checkboxField},Object(be.d)(null,"rememberMe",null,be.a,{type:"checkbox"})),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))})),je=Object(v.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,a,n){return function(r){var s,o;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_.a.awrap(S.a.login(e,t,a,n));case 2:0===(s=c.sent).data.resultCode?r(pe()):(10===s.data.resultCode&&r(Ee()),o=s.data.messages.length>0?s.data.messages[0]:"Some error",r(Object(le.b)("login",{_error:o})));case 4:case"end":return c.stop()}}))}}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"/profile"}):r.a.createElement("div",{className:Oe.a.loginForm},r.a.createElement("div",{className:Oe.a.imgLogin},r.a.createElement("img",{src:Ce.a,alt:"cat"})),r.a.createElement(Pe,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),ye={initialized:!1},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(b.a)({},e,{initialized:!0});default:return e}},Ie=a(40),ke=a(131),xe={friends:[{id:1,name:"Pasha"},{id:2,name:"Serega"},{id:3,name:"Kirill"}]},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe;arguments.length>1&&arguments[1];return e},Te=a(144),Fe=a(133),Le=Object(V.c)({profilePage:Ie.b,dialogsPage:ke.a,sidebar:Ue,usersPage:I,auth:ve,form:Fe.a,app:Ae}),Be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,Re=Object(V.e)(Le,Be(Object(V.a)(Te.a)));window.__store__=Re;var Ge=Re,ze=function(e){return function(t){return r.a.createElement(n.Suspense,{fallback:r.a.createElement(W.a,null)},r.a.createElement(e,t))}},Me=a(145),De=a.n(Me),He=a(146),We=a.n(He),Ve=function(){return r.a.createElement("div",{className:We.a.notFoundBlock},r.a.createElement("img",{src:De.a,alt:"preloader"}),r.a.createElement("div",null,"404 Page not found... or not created"))},Je=a(22),Ze=a.n(Je),qe=a(45),Xe=a.n(qe),Ke=Object(_e.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error,s=e.saveStatus;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:Ze.a.settingsTitle},"Main information"),r.a.createElement("div",{className:Ze.a.formContainer},r.a.createElement("div",{className:Ze.a.settingsField},r.a.createElement("div",null,"Name:"),Object(be.d)("Full name","fullName",[],be.b)),r.a.createElement("div",{className:Ze.a.settingsField},r.a.createElement("div",null,"About me:"),Object(be.d)("About me","aboutMe",[],be.c)),r.a.createElement("div",{className:Ze.a.settingsField},r.a.createElement("div",null,"Looking for a job:"),Object(be.d)("","lookingForAJob",[],be.b,{type:"checkbox"})),r.a.createElement("div",{className:Ze.a.settingsField},r.a.createElement("div",null,"My professional skills:"),Object(be.d)("My professional skills","lookingForAJobDescription",[],be.c)),Object.keys(a.contacts).map((function(e){return r.a.createElement("div",{key:e,className:Ze.a.settingsContactsField},r.a.createElement("div",null,e,":"),Object(be.d)(e,"contacts."+e,[],be.b))})),r.a.createElement("div",null,s&&r.a.createElement("div",{className:Ze.a.saveStatus},"Change saved")),r.a.createElement("div",{className:Ze.a.saveButton},r.a.createElement("button",null,"Save")),n&&r.a.createElement("div",{className:Xe.a.formSummaryError},n)))})),Ye=function(e){var t=e.profile,a=e.saveProfile,n=e.userId,s=e.saveStatus;return r.a.createElement("div",{className:Ze.a.settingsContainer},t.userId===n?r.a.createElement(Ke,{initialValues:t,profile:t,onSubmit:function(e){a(e)},saveStatus:s}):r.a.createElement(W.a,null))},Qe=Object(V.d)(Object(v.b)((function(e){return{profile:e.profilePage.profile,userId:e.auth.userId,saveStatus:e.profilePage.saveStatus}}),{getUserProfile:Ie.d,savePhoto:Ie.e,saveProfile:Ie.f}),ee.a)((function(e){var t=e.profile,a=e.saveProfile,s=e.getUserProfile,o=e.userId,c=e.saveStatus;return Object(n.useEffect)((function(){t&&t.userId===o||s(o)}),[t,s,o]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(Ye,{profile:t,saveProfile:a,userId:o,saveStatus:c}):r.a.createElement(W.a,null))})),$e=r.a.lazy((function(){return a.e(4).then(a.bind(null,305))})),et=r.a.lazy((function(){return a.e(3).then(a.bind(null,304))})),tt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandleErrors=function(e,t){},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandleErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandleErrors)}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(he,null))),r.a.createElement("section",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:this.props.auth&&"app-wrapper"},this.props.auth&&r.a.createElement("nav",null,r.a.createElement("div",{className:"navbar"},r.a.createElement(p,null))),r.a.createElement("main",null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(E.a,{to:"/profile"})}}),r.a.createElement(E.b,{path:"/dialogs",render:ze($e)}),r.a.createElement(E.b,{path:"/profile/:userId?",render:ze(et)}),r.a.createElement(E.b,{path:"/users",render:function(){return r.a.createElement(te,null)}}),r.a.createElement(E.b,{path:"/settings",render:function(){return r.a.createElement(Qe,null)}}),r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(je,null)}}),r.a.createElement(E.b,{path:"*",render:function(){return r.a.createElement(Ve,null)}}))))))):r.a.createElement(W.a,null)}}]),t}(r.a.Component),at=Object(V.d)(E.g,Object(v.b)((function(e){return{initialized:e.app.initialized,auth:e.auth.isAuth}}),{initializeApp:function(){return function(e){var t=e(pe());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(tt),nt=function(e){return r.a.createElement(g.a,{basename:"/training"},r.a.createElement(v.a,{store:Ge},r.a.createElement(at,null)))};o.a.render(r.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return g})),a.d(t,"g",(function(){return p})),a.d(t,"e",(function(){return E})),a.d(t,"f",(function(){return v}));var n=a(6),r=a.n(n),s=a(73),o=a(9),c=a(11),i=a(30),u={posts:[{id:1,message:"HAHAHA",likesCount:12},{id:2,message:"Next time",likesCount:3},{id:3,message:"How a u?",likesCount:8},{id:4,message:"Maaan, this so funny",likesCount:1}],profile:null,status:"",saveStatus:!1},l=function(e){return{type:"ADD-POST",post:e}},m=function(e){return{type:"SET_STATUS",status:e}},d=function(e){return{type:"SAVE_STATUS",status:e}},f=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.getProfile(e));case 2:a=n.sent,t({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return n.stop()}}))}},g=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.getStatus(e));case 2:a=n.sent,t(m(a.data));case 4:case"end":return n.stop()}}))}},p=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(c.b.updateStatus(e));case 3:0===a.sent.data.resultCode&&t(m(e)),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(0);case 9:case"end":return a.stop()}}),null,null,[[0,7]])}},E=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(c.b.savePhoto(e));case 2:0===(a=n.sent).data.resultCode&&t({type:"SAVE_PHOTO_SUCCESS",photos:a.data.data.photos});case 4:case"end":return n.stop()}}))}},v=function(e){return function(t,a){var n,s;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=a().auth.userId,o.next=3,r.a.awrap(c.b.saveProfile(e));case 3:if(0!==(s=o.sent).data.resultCode){o.next=10;break}t(f(n)),t(d(!0)),setTimeout((function(){return t(d(!1))}),1e4),o.next=12;break;case 10:return t(Object(i.b)("edit-profile",{_error:s.data.messages[0]})),o.abrupt("return",Promise.reject(s.data.messages[0]));case 12:case"end":return o.stop()}}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(o.a)({},e,{posts:[].concat(Object(s.a)(e.posts),[{id:5,message:t.post,likesCount:0}])});case"SET_STATUS":return Object(o.a)({},e,{status:t.status});case"SET_USER_PROFILE":return Object(o.a)({},e,{profile:t.profile});case"DELETE_POST":return Object(o.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SAVE_PHOTO_SUCCESS":return Object(o.a)({},e,{profile:Object(o.a)({},e.profile,{photos:t.photos})});case"SAVE_STATUS":return Object(o.a)({},e,{saveStatus:t.status});default:return e}}},45:function(e,t,a){e.exports={formControl:"FormsControls_formControl__3axP7",container:"FormsControls_container__2VZhW",checkmark:"FormsControls_checkmark__5vhmM"}},46:function(e,t,a){e.exports={header:"header_header__3Wgol",loginHeader:"header_loginHeader__1Jhdk",logo:"header_logo__2xQVY",ava:"header_ava__iokZB",userInfo:"header_userInfo__3nY3p",loginIcon:"header_loginIcon__26Iju"}},47:function(e,t,a){e.exports={formSummaryError:"Login_formSummaryError__1SCKd",loginForm:"Login_loginForm__3O5bW",checkboxField:"Login_checkboxField__2em60",buttonsField:"Login_buttonsField__19jMH",imgLogin:"Login_imgLogin__It_Md"}},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(68),r=a(69),s=a(74),o=a(70),c=a(75),i=a(0),u=a.n(i),l=a(28),m=a(12),d=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(s.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(c.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(l.a,{to:"/login"})}}]),a}(u.a.Component);return Object(m.b)(d)(t)}},65:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},96:function(e,t,a){e.exports=a.p+"static/media/navigate-before.ce1003c3.svg"},99:function(e,t,a){e.exports=a.p+"static/media/user_cat2.dda3b706.png"}},[[172,1,2]]]);
//# sourceMappingURL=main.d5bc527b.chunk.js.map